= image_tag "logo_small.png", align: :right

h1.challenge-h1 üìÖ The 52 week ham radio challenge - #{APP_CONFIG.year} üìª

p: strong Timeline:

ul
  li
    | Challenges finalized: 
    - if challenges_finalized = APP_CONFIG.challenges_finalized
      | #{l(challenges_finalized, format: :long)} ‚òëÔ∏è 
    - else
      | TBD
  li
    | Bot online: 
    - if bot_online = APP_CONFIG.bot_online
      | #{l(bot_online, format: :long)} ‚òëÔ∏è 
    - else
      | TBD
  li
    strong
      | Challenge launch: #{l(Date.parse("#{APP_CONFIG.year}-01-01"), format: :long)} ‚òëÔ∏è

hr

p 52 weeks, 52 challenges. Can you master them all?

ul.challenge-list
  li This is meant to <strong>inspire you to extend your horizon</strong> in amateur radio by <strong>weekly challenges</strong> through the year that touch all aspects of ham radio (and related fields).
  li A lot of the challenges may be trivial for some participants (because it is what they do all the time), but very challenging to others.
  li Participants of the challenge are encouraged to help each other in any way possible. There's no cheating and you decide on your own success or failure.
  li The challenges may be done in the suggested chronological order, or in any other way you like. For maximum synergy and fun in comparing how it's going, going chronologically is recommended!
  li Participants are encouraged to post their progress, ideas, questions on <strong>Mastodon</strong> with the tag #hamchallenge. There is also an IRC channel: <a href="https://web.libera.chat/#hamchallenge">irc.libera.chat/#hamchallenge</a>
  li You're encouraged to make use of your own equipment as much as possible, but it is perfectly OK to use borrowed equipment, or use WebSDRs/KiwiSDRs or other remote setups.
  li Progress is tracked by mentioning the <a href="https://mas.to/@hamchallenge">@hamchallenge@mas.to</a> bot on Mastodon in your toots:
  ul
    li If you succeeded in a challenge, include <strong>HC<em>nn</em>S</strong> in your toot (where <em>nn</em> is the week). You will receive a point for the challenge.
    li If you didn't succeed yet, you can still include <strong>HC<em>nn</em></strong> in your toot about the challenge, and it will be linked.
  li Are you not on Mastodon yet? There are several instances dedicated to Amateur Radio. Go to <a href="https://fediverse.radio/">https://fediverse.radio/</a>, pick your favorite and sign up!
  li <b>NEW:</b> The <a href="#leaderboard">leaderboard</a> is shown below the table of challenges.

h2.big-heading= APP_CONFIG.year

h3 Challenges

table#challenges
  thead
    tr
      th Week
      th Type
      th Difficulty
      th.challenge-th Challenge
      th Toots / Finished by
  tbody
    - @challenges.each do |challenge|
      tr
        td= challenge.week
        td: span[aria-label=challenge.category]= category_emoji(challenge.category)
        td: span[aria-label=challenge.difficulty]= difficulty_emoji(challenge.difficulty)
        td
          details
            summary= challenge.summary
            == Redcarpet::Markdown.new(Redcarpet::Render::HTML).render challenge.description
        td= link_to "#{@toot_counts[challenge.id] || 0} / #{@completed_toot_counts[challenge.id] || 0}", challenge_toots_path(challenge)

h3 Leaderboard

table#leaderboard
  thead
    tr
      th User
      th User Score
  tbody
    - @users.each do |((username, url), toot_count)|
      tr
        td= link_to username, user_path(username)
        td= toot_count

p
  | Credits (thanks for contributing): #{APP_CONFIG.contributors.join(", ")} and others.

hr

p
  | A project by <a href="https://fkurz.net/" target="_blank" rel="noopener noreferrer">Fabian Kurz, DJ6CW</a> (<a href="https://social.darc.de/@DJ5CW" target="_blank" rel="noopener noreferrer">@dj5cw@social.darc.de</a>) and <a href="https://qrz.com/db/dl9pk" target="_blank" rel="noopener noreferrer">Phillip Kessels</a> (<a href="https://mastodon.social/@phikes" target="_blank" rel="noopener noreferrer">@phikes@mastodon.social</a>) - Last modified: #{l(File.mtime("app"), format: :long)} UTC
